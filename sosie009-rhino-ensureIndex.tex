Listing \ref{lst:ensureIndex} is a valid sosie, not beautiful: the first assignment of \texttt{index} is useless

%Position: org.mozilla.javascript.UintMap:290
\begin{minipage}{\columnwidth}
\begin{lstlisting}[caption={\texttt{ensureIndex} in Rhino and a sosie},label=lst:ensureIndex,language=java,numbers=left]
//original
private int ensureIndex(int key, boolean intType) {
  int index = -1;
  //end transformation
  int firstDeleted = -1;
  int[] keys = this.keys;
  if (keys != null) {
    int fraction = key * A;
    index = fraction >>> (32 - power);
    %* {\color{gray} \emph{...} } *)
    }
    // Inserting of new key
    if (check && keys != null && keys[index] != EMPTY)
        Kit.codeBug();
    if (firstDeleted >= 0) {
        index = firstDeleted;
    }
    else {
      // Need to consume empty entry: check occupation level
      if (keys == null || occupiedCount * 4 >= (1 << power) * 3) {
        // Too litle unused entries: rehash
        rehashTable(intType);
        return insertNewKey(key);
      }
    ++occupiedCount;
  }
  keys[index] = key;
  ++keyCount;
  return index;
}
//sosie
private int ensureIndex(int key, boolean intType) {
  int index = 65536;
  //end transformation
  int firstDeleted = -1;
  int[] keys = this.keys;
  if (keys != null) {
    int fraction = key * A;
    index = fraction >>> (32 - power);
    %* {\color{gray} \emph{...} } *)
    }
    // Inserting of new key
    if (check && keys != null && keys[index] != EMPTY)
        Kit.codeBug();
    if (firstDeleted >= 0) {
        index = firstDeleted;
    }
    else {
      // Need to consume empty entry: check occupation level
      if (keys == null || occupiedCount * 4 >= (1 << power) * 3) {
        // Too litle unused entries: rehash
        rehashTable(intType);
        return insertNewKey(key);
      }
    ++occupiedCount;
  }
  keys[index] = key;
  ++keyCount;
  return index;
}
\end{lstlisting}
\tabcolsep=0.11cm
\begin{tabular}{>{\small}c>{\small}c>{\small}c>{\small}c>{\small}c>{\small}c>{\small}c>{\small}c}
\hline
\rowcolor{lightgray} \#tc & \#assert & transfo & node & min & max & median & mean   \\
\rowcolor{lightgray}  & & type & type & depth  & depth & depth & depth  \\ 
\hline
&  & rep &  &  &  &  & \\
\hline
\end{tabular}
\end{minipage}